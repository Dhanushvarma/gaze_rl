# Configuration for Hierarchical Behavior Cloning
# @package _global_

defaults:
  - base
  - _self_

# Hierarchical Behavior Cloning settings
hierarchical: true
policy_type: ${policy}  # mlp or rnn, override from command line

# Horizon settings
goal_horizon: 20  # How many steps in the future to use for subgoals (H)
skill_horizon: 5   # How many actions to generate per subgoal (L)

# Subgoal selection - which observation keys to use for subgoals
subgoal_keys:
  - eef_pos
  - blocks_poses

# Whether to generate additional datasets for VAE/policy training
generate_vae_data: true
generate_policy_data: true
vae_data_path: "${output_dir}/vae_data.pkl"
policy_data_path: "${output_dir}/policy_data.pkl"

# Policy type specific data settings
mlp:
  sequence_length: 1
  include_action_history: false

rnn:
  sequence_length: ${skill_horizon}  # Match the skill horizon
  stride: 1  # Stride between sequences
  include_action_history: true  # Whether to include past actions in input

# Default policy type
policy: "mlp"

# Hydra settings
hydra:
  run:
    dir: logs/hbc_${policy}/${now:%Y-%m-%d_%H-%M-%S}